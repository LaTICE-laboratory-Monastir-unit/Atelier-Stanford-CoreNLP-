بعد هجرة النبي محمد إلى المدينة المنورة, حدثت بعض المعارك بين المسلمين وقريش, كانت أولها غزوة بدر عام 2ه, الموافق 624م, والتي انتهت بانتصار المسلمين, ثم غزوة أحد, وبعد ذلك غزوة الخندق عام 5ه, حتى جاء شهر شوال عام 6ه, الموافق 628م, فخرج 
النبي مع بعض المسلمين في اتجاه مكة لآداء العمرة, وعندما وصلوا إلى منطقة الحديبية رفضت قريش دخول النبي محمد وأصحابة إلى المدينة, وعقدوا بعد ذلك صلح الحديبية الذي نص على وقف القتال وعودة النبي وأصحابة للعمرة في السنة المقبلة, وحرية القبائل 
في الدخول في تحالف إما مع النبي وإما مع قريش. بعد عقد الصلح اختارت قبيلة خزاعة التي تقطن مكة الانضمام إلى حلف النبي, فيما دخل بنو بكر في حلف قريش, وقد كانت بين القبيلتين حروب قديمة, فأراد بنو بكر أن يأخذوا بثأرهم القديم من خزاعة, 
فأغاروا عليها ليلاً وقتلوا منهم الكثير وذلك بمساعدة قريش نفسها, فلما علم النبي بذلك أمر بالاستعداد لفتح مكة وكان ذلك سنة 
8ه, ولما وصل النبي محمد إلى مكة بجيشه دخلها بدون أي قتال, وهدم الأصنام, وعفا عن أهل مكة من المشركين. وعيّن عتاب بن أسيد 
أميراً على مكة, وقد أقام النبي فيها تسعة عشر يوماً فقط, ثم غادرها عائداً إلى المدينة المنورة.
العصور الوسطى والحديثة